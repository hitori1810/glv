<!--
/*********************************************************************************
 * By installing or using this file, you are confirming on behalf of the entity
 * subscribed to the SugarCRM Inc. product ("Company") that Company is bound by
 * the SugarCRM Inc. Master Subscription Agreement (“MSA”), which is viewable at:
 * http://www.sugarcrm.com/master-subscription-agreement
 *
 * If Company is not bound by the MSA, then by installing or using this file
 * you are agreeing unconditionally that Company will be bound by the MSA and
 * certifying that you have authority to bind Company accordingly.
 *
 * Copyright (C) 2004-2013 SugarCRM Inc.  All rights reserved.
 ********************************************************************************/

-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Forecast - Worksheet - SugarCRM</title>
  <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!-- HTML5 shim, for IE6-8 support of HTML elements -->
  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
    <!--[if lt IE 9]>
    <script type="text/javascript" src="../../../../sugarcrm/include/SugarCharts/Jit/FlashCanvas/flashcanvas.js"></script>
    <![endif]-->
  <!-- styles -->
  <link href="../../../../sugarcrm/themes/default/css/bootstrap.css" rel="stylesheet">
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,600' rel='stylesheet' type='text/css'>
  <script src="../../../../sugarcrm/cache/include/javascript/sugar_grp1_jquery.js"></script>
  <script src="../../../../sugarcrm/include/javascript/cookie.js"></script>
  <script src="../../../../sugarcrm/include/SugarCharts/Jit/js/Jit/jit.js" type="text/javascript" language="javascript"></script>
  <script src="../../../../sugarcrm/include/SugarCharts/Jit/js/sugarCharts.js" type="text/javascript" language="javascript"></script>


<script>
    var chartId = 'db620e51-8350-c596-06d1-4f866bfcfd5b';
    var css = new Array();
    var chartConfig = new Array();
    css["gridLineColor"] = '#cccccc';
    css["font-family"] = 'Arial';
    css["color"] = '#000000';
    chartConfig["orientation"] = 'vertical';
    chartConfig["barType"] = 'stacked';
    chartConfig["tip"] = 'label';
    chartConfig["chartType"] ='barChart';
    chartConfig["imageExportType"] = 'png';
    chartConfig["showNodeLabels"] = false;
    chartConfig["showAggregates"] = false;
    chartConfig["saveImageTo"] = "../../../../sugarcrm/index.php?action=DynamicAction&DynamicAction=saveImage&module=Charts&to_pdf=1";
</script>
</head>

<body id="forecast">
<div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container-fluid">
            <a class="cube" href="dashboard.html" rel="tooltip" title="Dashboard"></a>
            <div class="nav-collapse">
                <ul class="nav">
                    <li>
                        <a href="accounts.html">Accounts</a>
                    </li>
                    <li class="">
                        <a href="contacts.html">Contacts</a>
                    </li>
                    <li>
                        <a href="opportunity.html">Opportunities</a>
                    </li>
                    <li class="active">
                        <a href="#">Forecasts</a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">More <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li id="gen17"><a href="index.php?module=Campaigns&amp;action=index" id="moduleTab_Campaigns">Campaigns</a></li>
                            <li id="gen18"><a href="index.php?module=Quotes&amp;action=index" id="moduleTab_Quotes">Quotes</a></li>
                            <li id="gen19"><a href="#ajaxUILoc=index.php%3Fmodule%3DSubscriptions%26action%3Dindex" id="moduleTab_Subscriptions">Subscriptions</a></li>
                            <li id="gen23"><a href="index.php?module=Documents&amp;action=index" id="moduleTab_Documents">Documents</a></li>
                            <li id="gen24"><a href="index.php?module=P1_Partners&amp;action=index" id="moduleTab_P1_Partners">oppQ</a></li>
                            <li id="gen25"><a href="index.php?module=Emails&amp;action=index" id="moduleTab_Emails">Emails</a></li>
                            <li id="gen26"><a href="index.php?module=Products&amp;action=index" id="moduleTab_Products">Products</a></li>
                            <li id="gen27"><a href="#ajaxUILoc=index.php%3Fmodule%3DCases%26action%3Dindex" id="moduleTab_Cases">Cases</a></li>
                            <li class="divider"></li>
                            <li><a href="#">Filter Menu By</a></li>
                        </ul>
                    </li>
                </ul>
                <ul class="nav pull-right">
                    <li class="divider-vertical"></li>
                    <li class="dropdown">
                        <a href="#" class="btn btn-danger dropdown-toggle" data-toggle="dropdown">3</a>
                        <ul class="dropdown-menu">
                            <li><a href="">System-wide maintenance &hellip;</a></li>
                            <li class="divider"></li>
                            <li><a href="">Upgrade to 7.0!</a></li>
                            <li class="divider"></li>
                            <li><a href="">Please take our survey.</a></li>
                        </ul>
                    </li>
                    <li class="divider-vertical"></li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown"><img src="img/avatar_sabra.jpg" alt="skahn avatar" class="avatar">skhan <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="profile_skhan.html">Profile</a></li>
                            <li><a href="#">Password</a></li>
                            <li><a href="#">Advanced</a></li>
                            <li><a href="#">External Accounts</a></li>
                            <li class="divider"></li>
                            <li><a href="#">Log Out</a></li>
                        </ul>
                    </li>
                    <li class="divider-vertical"></li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-plus icon-white icon-md"></i> <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="#">Create Account</a></li>
                            <li><a data-toggle="modal" href="#contactModal">Create Contact</a></li>
                            <li><a href="#">Create Opportunity</a></li>
                        </ul>
                    </li>
                </ul>
                <form class="navbar-search pull-right" action="">
                    <input type="text" class="search-query span3" placeholder="Search" data-provide="typeahead" data-items="10" data-source="[&quot;Alabama&quot;,&quot;Alaska&quot;,&quot;Arizona&quot;,&quot;Arkansas&quot;,&quot;California&quot;,&quot;Colorado&quot;,&quot;Connecticut&quot;,&quot;Delaware&quot;,&quot;Florida&quot;,&quot;Georgia&quot;,&quot;Hawaii&quot;,&quot;Idaho&quot;,&quot;Illinois&quot;,&quot;Indiana&quot;,&quot;Iowa&quot;,&quot;Kansas&quot;,&quot;Kentucky&quot;,&quot;Louisiana&quot;,&quot;Maine&quot;,&quot;Maryland&quot;,&quot;Massachusetts&quot;,&quot;Michigan&quot;,&quot;Minnesota&quot;,&quot;Mississippi&quot;,&quot;Missouri&quot;,&quot;Montana&quot;,&quot;Nebraska&quot;,&quot;Nevada&quot;,&quot;New Hampshire&quot;,&quot;New Jersey&quot;,&quot;New Mexico&quot;,&quot;New York&quot;,&quot;North Dakota&quot;,&quot;North Carolina&quot;,&quot;Ohio&quot;,&quot;Oklahoma&quot;,&quot;Oregon&quot;,&quot;Pennsylvania&quot;,&quot;Rhode Island&quot;,&quot;South Carolina&quot;,&quot;South Dakota&quot;,&quot;Tennessee&quot;,&quot;Texas&quot;,&quot;Utah&quot;,&quot;Vermont&quot;,&quot;Virginia&quot;,&quot;Washington&quot;,&quot;West Virginia&quot;,&quot;Wisconsin&quot;,&quot;Wyoming&quot;]">
                </form>
            </div><!-- /.nav-collapse -->
        </div>
    </div><!-- /navbar-inner -->
</div>
<!-- <ul class="breadcrumb">
<li>
<a href="#">Home</a> <span class="divider">/</span>
</li>
<li>
<a href="#">Accounts</a> <span class="divider">/</span>
</li>
<li class="active">
<a href="#">User</a>
</li>
</ul> -->
<div class="subnav">
    <div class="btn-toolbar pull-left">
        <h1>Forecast: Sabra Khan</h1>
    </div>
    <div class="btn-toolbar pull-right">
        <div class="dropdown">
            <a href="#" data-toggle="dropdown" class="dropdown-toggle btn btn-success">Actions <i class="icon caret"></i></a>
            <ul class="dropdown-menu menu">
                <li><a href="#">Duplicate</a></li>
                <li><a href="#">Save</a></li>
                <li class="divider"></li>
                <li><a href="#">Note</a></li>
                <li><a href="#">Email</a></li>
                <li><a href="#">PDF</a></li>
                <li><a href="#">CSV</a></li>
            </ul>
        </div>
    </div>
</div>
<div class="container-fluid">
<div class="row-fluid">
<div class="span2" id="drawer">
    <a class="drawerTrig btn btn-mini pull-right"><i class="icon-chevron-left icon-sm"></i></a>
    <div class="bordered">
        <div class="block">
            <br>
            <h4 data-toggle="collapse" data-target="#filters"><i class="icon-chevron-down icon-sm pull-right"></i>
                Filters:</h4>
            <div id="filters" class="collapse">
                <br>
                <a data-toggle="modal"href="#adminFilter" title="Admin options" class="btn btn-primary"><i class="icon-plus icon-sm"></i> Create Filter</a>
                </p>
                <ul class="list">
                    <li>
                        <a href="">Default Filter</a> <a href="" class="pull-right"><i class="icon-remove icon-sm"></i></a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="block">
            <h4 data-toggle="collapse" data-target="#chartType"><i class="icon-chevron-down icon-sm pull-right"></i>
                Chart Type:</h4>
            <div class="collapse" id="chartType">
                <br>
                <div class="btn-group">
                    <a href="" class="btn active"><i class="icon-signal"></i></a>
                    <a href="" class="btn"><i class="icon-align-left"></i></a>
                </div>
            </div>
        </div>
        <div class="block">
            <h4 data-toggle="collapse" data-target="#config"><i class="icon-chevron-down icon-sm pull-right"></i>
                Chart Pivot:</h4>
            <div id="config" class="collapse">
                <br>
                <div class="control-group">
                    <label for="select01" class="control-label">Horizontal (x):</label>
                    <div class="controls ">
                        <select data-placeholder="Choose a account..." class="chzn-select span2" id="x-axis" tabindex="2">
                            <option value="month" selected="selected">Month</option>
                            <option value="users">Team Members</option>

                        </select>
                    </div>
                </div>
                <div class="control-group">
                    <label for="select01" class="control-label">Vertical (y):</label>
                    <div class="controls">
                        <select data-placeholder="Choose a account..." class="chzn-select span2" tabindex="2">
                            <option value="pk" selected="selected">Revenue</option>
                        </select>
                    </div>
                </div>
                <div class="control-group">
                    <label for="select01" class="control-label">Group By:</label>
                    <div class="controls">
                        <select data-placeholder="Choose a account..." class="chzn-select span2" tabindex="2">
                            <option value="pk" selected="selected">Sales stage</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
        <div class="block">
            <h4>People:</h4>
                <div id="people">
                </div>
        </div>
    </div>
</div>
<div id="charts" class="span10">
    <div class="row-fluid">
        <div class="span7">
            <div class="tcenter">
                <div id="chart" class="tcenter">



                    <div class="chartContainer">
                        <div id="sbdb620e51-8350-c596-06d1-4f866bfcfd5b" class="scrollBars">
                            <div id="db620e51-8350-c596-06d1-4f866bfcfd5b" class="chartCanvas" style="width: 99%; height: 300px;"></div>
                        </div>
                        <div id="legenddb620e51-8350-c596-06d1-4f866bfcfd5b" class="legend"></div>
                    </div>

                </div>

            </div>
        </div>
        <script type="text/javascript">
            var forecast = null;

            forecast = new loadSugarChart(chartId,'forecast-json-month.js',css,chartConfig);


        </script>
        <div class="span5">
            <div class="tab-pane active" id="overview">
                <div class="block" id="moduleTwitter">
                    <h4>Progress</h4>
                    <article>
                        <span class="label label-warn">Motivate</span>
                        <p>
                            Sabra Khan your team is 60% of quota<br>
                            <date class="date">There are 8 days to meet quota</date>
                        </p>
                        <div class="actions hide">
                            <a data-toggle="modal" href="#reply" class="comment btn btn-mini"><i class="icon-comment"></i></a>
                            <a data-toggle="modal" href="#share" class="share btn btn-mini"><i class="icon-share-alt"></i></a>
                        </div>
                    </article>
                </div>
                <div class="block" id="moduleTwitter">
                    <h4>Leaderboard <small>Top 3</small></h4>
                    <article>
                        <div class="span1 pull-right" rel="tooltip" data-title="110% of quota">
                            <div class="progress progress-success">
                                <div class="bar" style="width: 100%;"></div>
                            </div>
                        </div>
                        <a href="" class="pull-left">
                            <img src="img/avatar_nate.jpg" class="avatar" alt="Skhan avatar">
                        </a>
                        <p>
                            <a href="#">Mark Gibson</a>: 120% of quota<br>
                            <date class="date">Last close 8 hours ago at 9:00 pm EST</date>
                        </p>
                        <div class="actions hide">
                            <a data-toggle="modal" href="#reply" class="comment btn btn-mini"><i class="icon-comment"></i></a>
                            <a href="forecast_james.html" class="charted btn btn-mini"><i class="icon-signal"></i></a>
                            <a data-toggle="modal" href="#share" class="share btn btn-mini"><i class="icon-share-alt"></i></a>
                        </div>
                    </article>
                    <article>
                        <div class="span1 pull-right" rel="tooltip" data-title="50% of quota">
                            <div class="progress progress-mid">
                                <div class="bar" style="width: 50%;"></div>
                            </div>
                        </div>
                        <a href="" class="pull-left">
                            <img src="img/avatar_james.jpg" class="avatar" alt="James avatar">
                        </a>
                        <p>
                            <a href="#">James Joplin</a>: 50% of quota<br>
                            <date class="date">Last close 3 days ago at 9:00 pm EST</date>
                        </p>
                        <div class="actions hide">
                            <a data-toggle="modal" href="#reply" class="comment btn btn-mini"><i class="icon-comment"></i></a>
                            <a href="forecast_james.html" class="charted btn btn-mini"><i class="icon-signal"></i></a>
                            <a data-toggle="modal" href="#share" class="share btn btn-mini"><i class="icon-share-alt"></i></a>
                        </div>
                    </article>
                    <article>
                        <div class="span1 pull-right" rel="tooltip" data-title="30% of quota">
                            <div class="progress progress-danger">
                                <div class="bar" style="width: 30%;"></div>
                            </div>
                        </div>
                        <a href="" class="pull-left">
                            <img src="img/avatar_mia.jpg" class="avatar" alt="Skhan avatar">
                        </a>
                        <p>
                            <a href="#">Amy McCray</a>: 30% of quota<br>
                            <date class="date">Last close 8 days ago at 9:00 pm EST</date>
                        </p>
                        <div class="actions hide">
                            <a data-toggle="modal" href="#reply" class="comment btn btn-mini"><i class="icon-comment"></i></a>
                            <a href="forecast_james.html" class="charted btn btn-mini"><i class="icon-signal"></i></a>
                            <a data-toggle="modal" href="#share" class="share btn btn-mini"><i class="icon-share-alt"></i></a>
                        </div>
                    </article>
                </div>
            </div>
        </div>
        <hr>

        <script type="text/javascript" charset="utf-8">
            /* Data set - can contain whatever information you want */
            var aDataSet = [
                ['','Opp A','Qualified','25%','Jan 12th', '75%', '100,000'],
                ['','Opp Aa','Proposed','10%','Jan 12th', '75%', '200,000'],
                ['','Opp Aaa','Quotes','50%','Jan 12th', '75%', '50,000'],
                ['','Opp Aaaa','Closed/Won','100%','Jan 21st', '100%', '50,000'],
                ['','Opp B','Qualified','25%','Feb 12th', '75%', '120,000'],
                ['','Opp Bb','Proposed','10%','Feb 12th', '75%', '190,000'],
                ['','Opp Bbb','Quotes','50%','Feb 12th', '75%', '240,000'],
                ['','Opp Bbbb','Closed/Won','100%','Feb 21st', '100%', '40,000'],
                ['','Opp C','Qualified','25%','Mar 12th', '75%', '10,000'],
                ['','Opp Cc','Proposed','10%','Mar 12th', '75%', '100,000'],
                ['','Opp Ccc','Quotes','50%','Mar 12th', '75%', '200,000'],
                ['','Opp Cccc','Closed/Won','100%','Mar 21st', '100%', '100,000']
            ];

            $(document).ready(function() {
                $('#dynamic').html( '<table cellpadding="0" cellspacing="0" border="0" class="table table-striped datatable" id="example"></table>' );
                $('#example').dataTable( {
                    "bFilter": false,
                    "bInfo":false,
                    "bPaginate": false,
                    "aaData": aDataSet,
                    "aoColumns": [
                        {
                            "sTitle": "Commit",
                            "sClass": "center",
                            "fnRender": function(obj) {
                                //var sReturn = obj.aData[ obj.iDataColumn ];
                                sReturn = "<input type='checkbox'>";
                                return sReturn;
                            }
                        },
                        { "sTitle": "Opportunity" },
                        { "sTitle": "Sales Stage" },
                        { "sTitle": "Probability" },
                        { "sTitle": "Expected close" },
                        { "sTitle": "Chance to close" },
                        {
                            "sTitle": "Amount",
                            "fnRender": function(obj) {
                                var sReturn = obj.aData[ obj.iDataColumn ];
                                var ret = "<div style='position:relative;'><span class='dblclick'>" + sReturn + "</span></div>";
                                return ret;
                            }
                        }

                    ]
                } );
            } );


            !function ($) {
                $(function() {
                    // editable demo
                    $(".dblclick").editable('save.php',{
                        //loadurl: "load.php",
                        indicator : 'Saving ...',
                        cssclass   : "editable",
                        callback : function(value, settings) {

                                        updateChart("forecast-json-update.js",forecast.chartObject);

                            //return (value);
                        }
                    })

                });
            }(window.jQuery)
        </script>

        <div id="dynamic"></div>
    </div>
</div>
</div>
</div>
</div>
<footer>
    <div class="row-fluid">
        <div class="span6"><a href="" class="logo">SugarCRM</a></div>
        <div class="span6">
            <div class="btn-toolbar pull-right">
                <div class="btn-group">
                    <a data-toggle="modal" title="Activity View Tour" href="#systemTour" class="btn"><i class="icon-road"></i> Tour</a>
                    <a data-toggle="modal" title="Feedback" href="#systemFeedback" class="btn"><i class="icon-comment"></i> Feedback</a>
                    <a data-toggle="modal" title="Support" href="#systemSupport" class="btn"><i class="icon-question-sign"></i> Support</a>
                </div>
                <div class="btn-group">
                    <a href="#" class="btn"><i class="icon-print"></i> Print</a> <a href="#" class="btn"><i class="icon-arrow-up"></i> Top</a>
                </div>
            </div>
        </div>
    </div>
</footer>
<div class="modal hide" id="adminFilter">
    <div class="modal-header">
        <a class="close" data-dismiss="modal">×</a>
        <h3>Manage Filters</h3>
    </div>
    <div class="modal-body">
    </div>
    <div class="modal-footer">
        <a href="#" class="btn btn-primary">Save</a>
        <a href="#" class="btn" data-dismiss="modal">Cancel</a>
    </div>
</div>
<div class="modal hide" id="reply">
    <div class="modal-header">
        <a class="close" data-dismiss="modal">×</a>
        <h3>Comment On</h3>
    </div>
    <div class="modal-body">
        <div id="moduleActivity" class="block tabs-left">
            <ul class="nav nav-tabs results">
                <li>
                    <span class="label label-warn">Motivate</span>
                    <p>
                        Sabra Khan your team is 60% of quota<br>
                        <date class="date">There are 8 days to meet quota</date>
                    </p>
                </li>
            </ul>
            <form class="form-horizontal">
                <fieldset>
                    <div class="control-group">
                        <label for="select01" class="">Send to:</label>
                        <select data-placeholder="Choose a user..." class="chzn-select span6" tabindex="2" multiple>
                            <option value="pk"></option>
                            <option value="pk" selected>Amy McCray</option>
                            <option value="pk" selected>James Joplin</option>
                            <option value="pk" selected>Mark Gibson</option>
                            <option value="pk" selected>Terrence Li</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label for="input01" class="">Subject:</label>
                        <textarea id="input01" class="wide"></textarea>
                    </div>
                </fieldset>
            </form>
        </div>
    </div>
    <div class="modal-footer">
        <a href="index.html" class="btn btn-primary" data-dismiss="modal">Send</a>
        <button class="btn cancel" data-dismiss="modal">Cancel</button>
    </div>
</div>

<script>
    $(document).ready(function(){
        $('.icon-align-left').parent().click(function(e){
            e.preventDefault();
            chartConfig["orientation"] = 'horizontal';
            forecast = swapChart(chartId,'forecast-json-month.js',css,chartConfig);
            var that = this;
            $('#chartType .btn-group').children("a").each(function() {
                $(this).removeClass('active');
                $(that).addClass('active');
            });
        });

        $('.icon-signal').parent().click(function(e){
            e.preventDefault();
            chartConfig["orientation"] = 'vertical';
            forecast = swapChart(chartId,'forecast-json-month.js',css,chartConfig);
            var that = this;
            $('#chartType .btn-group').children("a").each(function() {
                $(this).removeClass('active');
                $(that).addClass('active');
            });
        });


    $("#x-axis").chosen().change(function(data){
        forecast = swapChart(chartId,'forecast-json-'+data.target.value+'.js',css,chartConfig);
    });

//        $.jstree._themes = "../../../../sugarcrm/themes/";
          $("#people").jstree({
                "json_data" : {
                    "data" : [
                        {
                            "data" : "Sabra Khan",
                            "state" : "open",
                            "metadata" : { id : 1 },
                            "children" : [

                                {"data" : "Mark Gibson","metadata" : { id : 2 }},
                                {"data" : "James Joplin","metadata" : { id : 3 }},
                                {"data" : "Terrence Li","metadata" : { id : 4 }},
                                {
                                    "data" : "Amy McCray",
                                    "metadata" : { id : 5 },
                                    "children" : [
                                    {"data" : "Troy McClure","metadata" : {id : 6}},
                                    {"data" : "James Kirk","metadata" : {id : 7}}
                                ]}

                            ]
                        }
                    ]
                },
//                "themes" : { "theme" : "default", "dots" : false },
                "plugins" : [ "json_data", "ui", "types" ]

        })
        .bind("loaded.jstree", function () {
                // do stuff when tree is loaded
         $("#people").addClass("jstree-sugar");
         $("#people > ul").addClass("list");
         $("#people > ul > li > a").addClass("jstree-clicked");


        })
        .bind("select_node.jstree", function (e, data) {
             console.log("load data for id: " + jQuery.data(data.rslt.obj[0], "id"));
             data.inst.toggle_node(data.rslt.obj);
        });


    });

</script>
<script src="application.js" type="text/javascript"></script>
</body>

</html>
